<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 썸네일 생성기 | YouTube 콘텐츠 자동화</title>
    <meta name="description" content="AI가 유튜브 영상을 분석하고 클릭을 부르는 썸네일을 자동으로 생성합니다.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- 저작권 무료 폰트 (OFL 라이선스 - 영상/썸네일 사용 가능) -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&family=Black+Han+Sans&family=Gaegu:wght@700&family=Nanum+Pen+Script&family=Nanum+Brush+Script&family=Jua&family=Do+Hyeon&family=Sunflower:wght@300;500;700&family=Dongle:wght@300;400;700&family=Gamja+Flower&family=Hi+Melody&family=Poor+Story&family=East+Sea+Dokdo&family=Dokdo&family=Cute+Font&family=Single+Day&family=Stylish&family=Yeon+Sung&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 애니메이션 배경: 빨간 데이터 라인 + 글로우 오브 -->
    <div class="background-animation">
        <div class="grid-pattern"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="glow-orb"></div>
        <div class="glow-orb"></div>
    </div>

    <div class="container">
        <!-- 헤더 -->
        <header class="header">
            <div class="logo">
                <div class="ai-badge">✨ Gemini AI</div>
                <h1>AI 썸네일 생성기</h1>
            </div>
            <p class="subtitle">유튜브 URL만 입력하면 AI가 클릭을 부르는 새로운 썸네일을 만들어드립니다</p>
        </header>

        <!-- 단계별 마법사 네비게이션 -->
        <nav class="wizard-nav">
            <div class="wizard-step active" data-step="1">
                <div class="step-number">1</div>
                <span class="step-label">API 설정</span>
                <div class="step-connector"></div>
            </div>
            <div class="wizard-step" data-step="2">
                <div class="step-number">2</div>
                <span class="step-label">URL 입력</span>
                <div class="step-connector"></div>
            </div>
            <div class="wizard-step" data-step="3">
                <div class="step-number">3</div>
                <span class="step-label">썸네일 생성</span>
            </div>
        </nav>

        <main class="main-content">
            <!-- Step 1: API 키 설정 -->
            <div class="api-section glass-card" id="api-section">
                <h2 class="section-title">🔑 Gemini API 키 설정</h2>
                <div class="api-input-wrapper">
                    <input type="password" id="api-key" placeholder="Gemini API 키를 입력하세요">
                    <button id="save-api-btn" class="save-btn">저장</button>
                </div>
                <p class="api-hint">API 키는 브라우저에만 저장되며 외부로 전송되지 않습니다.</p>
                <div id="api-status" class="api-status"></div>
            </div>

            <!-- Step 2: URL 입력 및 스타일 선택 -->
            <div class="input-section glass-card">
                <h2 class="section-title">🎬 썸네일 소스 선택</h2>

                <!-- 모드 선택 탭 -->
                <div class="mode-tabs">
                    <button class="mode-tab active" data-mode="url">
                        <span class="mode-icon">🔗</span>
                        <span>유튜브 URL</span>
                    </button>
                    <button class="mode-tab" data-mode="upload">
                        <span class="mode-icon">📷</span>
                        <span>이미지 업로드</span>
                    </button>
                </div>

                <!-- 유튜브 URL 모드 -->
                <div class="input-mode" id="url-mode">
                    <div class="input-wrapper">
                        <input type="text" id="youtube-url" placeholder="유튜브 URL을 붙여넣으세요 (예: youtube.com/watch?v=...)"
                            autocomplete="off">
                        <button id="generate-btn" class="generate-button" disabled>
                            <svg class="magic-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7.5 5.6L5 7l1.4-2.5L5 2l2.5 1.4L10 2 8.6 4.5 10 7 7.5 5.6z" />
                                <path d="M19 9l-1.5 3L14 13l3.5 1 1.5 3 1.5-3 3.5-1-3.5-1L19 9z" />
                                <path d="M11.5 9.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5z" />
                            </svg>
                            <span>AI 썸네일 생성</span>
                        </button>
                    </div>
                </div>

                <!-- 이미지 업로드 모드 -->
                <div class="input-mode hidden" id="upload-mode">
                    <div class="image-upload-area" id="image-upload-area">
                        <input type="file" id="image-upload" accept="image/*" hidden>
                        <div class="upload-placeholder" id="upload-placeholder">
                            <span class="upload-icon">📷</span>
                            <p>클릭하거나 이미지를 드래그하세요</p>
                            <span class="upload-hint">PNG, JPG, WEBP (최대 10MB)</span>
                        </div>
                        <img id="uploaded-preview" class="uploaded-preview hidden" alt="업로드된 이미지">
                    </div>
                    <div class="upload-text-input">
                        <input type="text" id="custom-text" placeholder="썸네일에 넣을 문구를 입력하세요 (쉼표로 줄 구분)">
                        <button id="generate-from-image-btn" class="generate-button" disabled>
                            <svg class="magic-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7.5 5.6L5 7l1.4-2.5L5 2l2.5 1.4L10 2 8.6 4.5 10 7 7.5 5.6z" />
                                <path d="M19 9l-1.5 3L14 13l3.5 1 1.5 3 1.5-3 3.5-1-3.5-1L19 9z" />
                                <path d="M11.5 9.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5z" />
                            </svg>
                            <span>썸네일 만들기</span>
                        </button>
                    </div>
                </div>

                <!-- 영상 톤 선택 카드 -->
                <div class="tone-selection">
                    <label class="tone-label">🎭 영상 톤 선택 (선택사항)</label>
                    <div class="tone-cards" id="tone-cards">
                        <div class="tone-card selected" data-tone="auto">
                            <span class="tone-card-icon">🤖</span>
                            <span class="tone-card-label">자동 분석</span>
                            <span class="tone-card-desc">AI가 알아서 판단</span>
                        </div>
                        <div class="tone-card" data-tone="drama">
                            <span class="tone-card-icon">🎭</span>
                            <span class="tone-card-label">드라마틱</span>
                            <span class="tone-card-desc">감정적, 극적</span>
                        </div>
                        <div class="tone-card" data-tone="fun">
                            <span class="tone-card-icon">😆</span>
                            <span class="tone-card-label">재미/유머</span>
                            <span class="tone-card-desc">밝고 재미있는</span>
                        </div>
                        <div class="tone-card" data-tone="professional">
                            <span class="tone-card-icon">💼</span>
                            <span class="tone-card-label">전문적</span>
                            <span class="tone-card-desc">교육, 정보</span>
                        </div>
                    </div>
                </div>

                <!-- 스타일 옵션 -->
                <div class="style-options">
                    <div class="option-group">
                        <label class="option-label">📍 글자 위치</label>
                        <div class="option-buttons" id="text-position">
                            <button class="option-btn" data-value="left">왼쪽</button>
                            <button class="option-btn" data-value="center">중앙</button>
                            <button class="option-btn active" data-value="right">오른쪽</button>
                        </div>
                    </div>
                    <div class="option-group">
                        <label class="option-label">✍️ 서체 스타일</label>
                        <div class="option-buttons" id="font-select">
                            <button class="option-btn active" data-value="Nanum Pen Script">손글씨</button>
                            <button class="option-btn" data-value="Gaegu">귀여운</button>
                            <button class="option-btn" data-value="Jua">둥근</button>
                            <button class="option-btn" data-value="Black Han Sans">굵은</button>
                        </div>
                    </div>
                </div>

                <!-- 커스텀 폰트 -->
                <div class="custom-font-section">
                    <label class="option-label">🎨 커스텀 폰트 (선택)</label>
                    <div class="custom-font-wrapper">
                        <div class="font-upload-box">
                            <input type="file" id="font-upload" accept=".ttf,.woff,.woff2,.otf" hidden>
                            <button class="font-upload-btn" onclick="document.getElementById('font-upload').click()">
                                📁 폰트 파일 업로드
                            </button>
                            <span id="font-file-name" class="font-file-name">선택된 파일 없음</span>
                        </div>
                        <div class="font-input-box">
                            <input type="text" id="custom-font-name" placeholder="또는 폰트 이름 직접 입력 (예: Arial, 맑은 고딕)">
                            <button id="apply-custom-font" class="apply-font-btn">적용</button>
                        </div>
                    </div>
                </div>

                <p class="input-hint">✨ AI가 영상을 분석하고 새로운 이미지와 문구로 썸네일 3개를 생성합니다</p>
            </div>

            <!-- 에러 메시지 -->
            <div id="error-message" class="error-message hidden">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
                </svg>
                <span></span>
            </div>

            <!-- 로딩 상태 -->
            <div id="loading-section" class="loading-section hidden">
                <div class="loading-content glass-card">
                    <div class="loading-spinner"></div>
                    <h3 id="loading-text">AI가 마법을 부리는 중... ✨</h3>
                    <div class="loading-steps">
                        <div class="loading-step" id="step-1">
                            <span class="step-icon">🔍</span>
                            <span>영상 분석 중...</span>
                        </div>
                        <div class="loading-step" id="step-2">
                            <span class="step-icon">🧠</span>
                            <span>AI가 컨셉 기획 중...</span>
                        </div>
                        <div class="loading-step" id="step-3">
                            <span class="step-icon">🎨</span>
                            <span>새 이미지 생성 중...</span>
                        </div>
                        <div class="loading-step" id="step-4">
                            <span class="step-icon">✍️</span>
                            <span>썸네일 완성 중...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 분석 결과 -->
            <div id="analysis-section" class="analysis-section hidden">
                <div class="glass-card">
                    <h2 class="section-title">📊 AI 분석 결과</h2>
                    <div class="analysis-content">
                        <div class="analysis-preview">
                            <img id="original-thumbnail" src="" alt="원본 썸네일">
                            <span class="original-label">원본</span>
                        </div>
                        <div class="analysis-details">
                            <div class="analysis-item">
                                <span class="analysis-label">📺 영상 제목</span>
                                <p id="analysis-title">-</p>
                            </div>
                            <div class="analysis-item">
                                <span class="analysis-label">🎯 AI 해석</span>
                                <p id="analysis-interpretation">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 생성된 썸네일 갤러리 그리드 -->
            <div id="generated-section" class="generated-section hidden">
                <div class="glass-card">
                    <h2 class="section-title">🎨 AI가 만든 새로운 썸네일</h2>
                    <p class="section-description">마음에 드시면 다운로드, 아니면 다시 만들기를 클릭하세요!</p>
                    <div class="generated-grid" id="generated-grid"></div>
                    <div class="action-buttons">
                        <button id="regenerate-btn" class="regenerate-btn">🔄 다시 만들기</button>
                    </div>
                </div>
            </div>

            <!-- 샘플 갤러리 섹션 -->
            <section class="gallery-section">
                <div class="gallery-title">
                    <h2>🖼️ AI가 만든 썸네일 예시</h2>
                    <p>다양한 스타일의 AI 생성 썸네일을 확인해보세요</p>
                </div>
                <div class="gallery-grid" id="sample-gallery">
                    <!-- 샘플 썸네일은 동적으로 추가되거나 실제 예시 이미지로 대체 -->
                    <div class="gallery-item">
                        <img src="https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg" alt="샘플 1">
                        <div class="gallery-item-overlay">
                            <span>드라마틱 스타일</span>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="https://img.youtube.com/vi/9bZkp7q19f0/maxresdefault.jpg" alt="샘플 2">
                        <div class="gallery-item-overlay">
                            <span>재미있는 스타일</span>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="https://img.youtube.com/vi/kJQP7kiw5Fk/maxresdefault.jpg" alt="샘플 3">
                        <div class="gallery-item-overlay">
                            <span>감성적 스타일</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>© 2024 AI 썸네일 생성기 | Powered by <a href="https://ai.google.dev/" target="_blank">Gemini AI</a></p>
        </footer>
    </div>

    <!-- 캔버스 (썸네일 생성용) -->
    <canvas id="canvas-1" width="1280" height="720" style="display:none;"></canvas>
    <canvas id="canvas-2" width="1280" height="720" style="display:none;"></canvas>
    <canvas id="canvas-3" width="1280" height="720" style="display:none;"></canvas>

    <script src="script.js?v=4"></script>

    <!-- 톤 카드 선택 핸들러 -->
    <script>
        document.querySelectorAll('.tone-card').forEach(card => {
            card.addEventListener('click', () => {
                document.querySelectorAll('.tone-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
            });
        });

        // 마법사 단계 업데이트
        function updateWizardStep(step) {
            document.querySelectorAll('.wizard-step').forEach((el, i) => {
                el.classList.remove('active', 'completed');
                if (i + 1 < step) el.classList.add('completed');
                if (i + 1 === step) el.classList.add('active');
            });
        }
    </script>
</body>

</html>